exports.name="Limit";exports.version="0.2";exports.handleSignals=true;exports.group=C.INTERNAL_FUNCTION_GROUP;exports.sync=true;let currentEventCount;let maxEventCount;exports.init=t=>{const e=t.conf||{};currentEventCount=0;maxEventCount=e.limit??Number.MAX_VALUE};exports.process=t=>{if(!t)return t;if(t.__signalEvent__){if(t.__signalEvent__==="reset"){currentEventCount=0}return t}if(maxEventCount===++currentEventCount){const e=t.__clone(false,[]);e.__signalEvent__="cancel";e.__setCtrlField("reason","limit");return[t,e]}else if(maxEventCount<currentEventCount){return null}return t};